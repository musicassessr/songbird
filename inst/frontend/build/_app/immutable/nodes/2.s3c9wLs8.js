import{H as nt,A as At,a as Mt,b as it,c as st,s as Tt,g as Pt,d as Nt,e as zt,t as rt,h as Lt,i as Vt,T as Bt,j as fe}from"../chunks/Toaster.8GTgqi9N.js";import{g as St}from"../chunks/entry.0FIitEmd.js";import{l as Ot,t as Rt}from"../chunks/store.hiRYcZ7D.js";import{s as yt,x as Le,i as E,n as Ve,f as h,Q as Ft,e as d,a as v,c,b as y,g as w,q as e,h as s,R as j,S as Ht,r as Ze,t as pe,p as O,d as me,A as Ct,T as Kt,B as It,U as jt,k as lt,V as at,W as ot,X as ut,j as Pe}from"../chunks/scheduler.Ry1FEY9V.js";import{S as kt,i as Dt,f as xt,b as dt,d as ct,m as ht,t as ft,a as pt,e as mt}from"../chunks/index.GooGS9kz.js";import{p as Gt}from"../chunks/stores.xxpJaiPp.js";import{s as qt}from"../chunks/signIn.zD-RR_td.js";const Wt=3*60*1e3;function Zt(r){const i=nt.listen("auth-internal",async({payload:l})=>{switch(l.event){case"confirmSignUp":l.data?.isSignUpComplete&&(nt.dispatch("auth-internal",{event:"autoSignIn"}),i())}}),n=setTimeout(()=>{i(),Ut(!1),clearTimeout(n)},Wt)}let Et=!1;function Ne(){return Et}function Ut(r){Et=r}function ze(r){return!!r.UserConfirmed}async function Xt(r){const{username:i,password:n,options:l}=r,a=At.getConfig().Auth?.Cognito,_=a?.signUpVerificationMethod??"code",{clientMetadata:p,validationData:u,autoSignIn:f}=r.options??{};Mt(a),it(!!i,st.EmptySignUpUsername),it(!!n,st.EmptySignUpPassword);const g=typeof f!="boolean"?f:void 0;g?.authFlowType,(g||f===!0)&&Ut(!0);const o=await Tt({region:Pt(a.userPoolId),userAgentValue:Nt(zt.SignUp)},{Username:i,Password:n,UserAttributes:l?.userAttributes&&rt(l?.userAttributes),ClientMetadata:p,ValidationData:u&&rt(u),ClientId:a.userPoolClientId}),{UserSub:t,CodeDeliveryDetails:m}=o;if(ze(o)&&Ne())return{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}};if(ze(o)&&!Ne())return{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}};if(!ze(o)&&Ne()&&_==="code")Zt();else if(!ze(o)&&Ne()&&_==="link")return{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:{deliveryMedium:m?.DeliveryMedium,destination:m?.Destination,attributeName:m?.AttributeName}},userId:t};return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:{deliveryMedium:m?.DeliveryMedium,destination:m?.Destination,attributeName:m?.AttributeName}},userId:t}}const Yt=async({url:r})=>{let i=r.searchParams.get("language")??"de";Ot(i);try{const n=await Lt(),l=await Vt();n.userId=l["custom:userId"]??"",St("/dashboard")}catch{}},fn=Object.freeze(Object.defineProperty({__proto__:null,load:Yt},Symbol.toStringTag,{value:"Module"})),Jt=""+new URL("../assets/songbird_icon.7r6Y9Lt_.png",import.meta.url).href;function gt(r){let i,n,l,a,_,p,u=r[3]==="main"&&_t(r),f=r[3]==="freiwilligkeit"&&bt(r),g=r[3]==="datenschutz"&&vt(r);return{c(){i=d("div"),n=d("div"),u&&u.c(),l=v(),f&&f.c(),a=v(),g&&g.c(),this.h()},l(o){i=c(o,"DIV",{class:!0});var t=y(i);n=c(t,"DIV",{class:!0});var m=y(n);u&&u.l(m),l=w(m),f&&f.l(m),a=w(m),g&&g.l(m),m.forEach(h),t.forEach(h),this.h()},h(){e(n,"class","modal-content svelte-1d0hhg3"),e(i,"class","modal-background svelte-1d0hhg3")},m(o,t){E(o,i,t),s(i,n),u&&u.m(n,null),s(n,l),f&&f.m(n,null),s(n,a),g&&g.m(n,null),_||(p=[j(n,"click",Ht(r[10])),j(i,"click",r[4])],_=!0)},p(o,t){o[3]==="main"?u?u.p(o,t):(u=_t(o),u.c(),u.m(n,l)):u&&(u.d(1),u=null),o[3]==="freiwilligkeit"?f?f.p(o,t):(f=bt(o),f.c(),f.m(n,a)):f&&(f.d(1),f=null),o[3]==="datenschutz"?g?g.p(o,t):(g=vt(o),g.c(),g.m(n,null)):g&&(g.d(1),g=null)},d(o){o&&h(i),u&&u.d(),f&&f.d(),g&&g.d(),_=!1,Ze(p)}}}function _t(r){let i,n="Einverständniserklärung",l,a,_,p,u,f,g="Freiwilligkeit",o,t,m=`Datenschutz
                    `,V,k,b,C,S,H,D,P=`Ich bin darüber informiert, dass die Nutzung der App
                            SongBird die Verwendung von Kopfhörern und Mikrofon
                            vorsieht und beim Sing-Training eine Aufzeichnung
                            der Singstimme stattfindet.`,J,A,B,se,L,x=`Ich willige ein, dass mein Kind an der Studie
                            teilnehmen und die App SongBird nutzen darf.`,re,M,le="Registrieren",ae,K;return{c(){i=d("h2"),i.textContent=n,l=v(),a=d("br"),_=v(),p=d("p"),u=pe(`Mein Kind und ich sind schriftlich im ausreichenden Maße
                    über das Ziel und den Ablauf der Studie informiert worden
                    und haben die Informationen zur `),f=d("span"),f.textContent=g,o=pe(`
                    und
                    `),t=d("span"),t.textContent=m,V=pe(`. erhalten. Mit der beschriebenen Erhebung und
                    Verarbeitung der Daten, welche durch die Nutzung der App
                    SongBird erhoben werden, bin ich einverstanden. Mir ist
                    bekannt, dass ich mein Einverständnis zur Speicherung der
                    Daten meines Kindes jederzeit widerrufen und eine Löschung
                    aller Daten verlangen kann, ohne dass mir daraus Nachteile
                    entstehen.`),k=v(),b=d("form"),C=d("div"),S=d("input"),H=v(),D=d("label"),D.textContent=P,J=v(),A=d("div"),B=d("input"),se=v(),L=d("label"),L.textContent=x,re=v(),M=d("button"),M.textContent=le,this.h()},l(I){i=c(I,"H2",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-1t4sbdi"&&(i.textContent=n),l=w(I),a=c(I,"BR",{}),_=w(I),p=c(I,"P",{});var U=y(p);u=me(U,`Mein Kind und ich sind schriftlich im ausreichenden Maße
                    über das Ziel und den Ablauf der Studie informiert worden
                    und haben die Informationen zur `),f=c(U,"SPAN",{class:!0,"data-svelte-h":!0}),O(f)!=="svelte-1rk2mvk"&&(f.textContent=g),o=me(U,`
                    und
                    `),t=c(U,"SPAN",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-14nxgks"&&(t.textContent=m),V=me(U,`. erhalten. Mit der beschriebenen Erhebung und
                    Verarbeitung der Daten, welche durch die Nutzung der App
                    SongBird erhoben werden, bin ich einverstanden. Mir ist
                    bekannt, dass ich mein Einverständnis zur Speicherung der
                    Daten meines Kindes jederzeit widerrufen und eine Löschung
                    aller Daten verlangen kann, ohne dass mir daraus Nachteile
                    entstehen.`),U.forEach(h),k=w(I),b=c(I,"FORM",{});var G=y(b);C=c(G,"DIV",{class:!0});var R=y(C);S=c(R,"INPUT",{type:!0,id:!0,class:!0}),H=w(R),D=c(R,"LABEL",{for:!0,"data-svelte-h":!0}),O(D)!=="svelte-1kzvbrl"&&(D.textContent=P),R.forEach(h),J=w(G),A=c(G,"DIV",{class:!0});var oe=y(A);B=c(oe,"INPUT",{type:!0,id:!0,class:!0}),se=w(oe),L=c(oe,"LABEL",{for:!0,"data-svelte-h":!0}),O(L)!=="svelte-1ur78sc"&&(L.textContent=x),oe.forEach(h),re=w(G),M=c(G,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(M)!=="svelte-fdngi1"&&(M.textContent=le),G.forEach(h),this.h()},h(){e(i,"class","header svelte-1d0hhg3"),e(f,"class","underline svelte-1d0hhg3"),e(t,"class","underline svelte-1d0hhg3"),e(S,"type","checkbox"),e(S,"id","agreeRecording"),e(S,"class","svelte-1d0hhg3"),e(D,"for","agreeRecording"),e(C,"class","checkbox-container svelte-1d0hhg3"),e(B,"type","checkbox"),e(B,"id","agreeParticipation"),e(B,"class","svelte-1d0hhg3"),e(L,"for","agreeParticipation"),e(A,"class","checkbox-container svelte-1d0hhg3"),e(M,"type","submit"),e(M,"class","button svelte-1d0hhg3")},m(I,U){E(I,i,U),E(I,l,U),E(I,a,U),E(I,_,U),E(I,p,U),s(p,u),s(p,f),s(p,o),s(p,t),s(p,V),E(I,k,U),E(I,b,U),s(b,C),s(C,S),S.checked=r[1],s(C,H),s(C,D),s(b,J),s(b,A),s(A,B),B.checked=r[2],s(A,se),s(A,L),s(b,re),s(b,M),ae||(K=[j(f,"click",r[6]),j(t,"click",r[7]),j(S,"change",r[11]),j(B,"change",r[12]),j(b,"submit",r[5])],ae=!0)},p(I,U){U&2&&(S.checked=I[1]),U&4&&(B.checked=I[2])},d(I){I&&(h(i),h(l),h(a),h(_),h(p),h(k),h(b)),ae=!1,Ze(K)}}}function bt(r){let i,n="← Zurück",l,a,_="Freiwilligkeit:",p,u,f=`Die Teilnahme an der Studie ist freiwillig. Sie bzw. Ihre
                    Tochter/Ihr Sohn können jederzeit und ohne Angabe von
                    Gründen die Teilnahme an dieser Studie beenden, ohne dass
                    Ihnen daraus Nachteile entstehen. Die im Rahmen dieser
                    Studie erhobenen, oben beschriebenen Daten und persönlichen
                    Mitteilungen werden vertraulich behandelt. So unterliegen
                    diejenigen Projektmitarbeiter:innen, die durch direkten
                    Kontakt mit Ihnen über personenbezogene Daten verfügen, der
                    Schweigepflicht bzw. dem Datengeheimnis. Veröffentlichungen
                    von Studienergebnissen erfolgen in anonymisierter Form, d.
                    h. es können keine Daten bestimmten Personen zugeordnet
                    werden. Bitte erläutern Sie, was die Probanden tun müssen.`,g,o;return{c(){i=d("button"),i.textContent=n,l=v(),a=d("h2"),a.textContent=_,p=v(),u=d("p"),u.textContent=f,this.h()},l(t){i=c(t,"BUTTON",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-1vdvkns"&&(i.textContent=n),l=w(t),a=c(t,"H2",{class:!0,style:!0,"data-svelte-h":!0}),O(a)!=="svelte-1omo9jq"&&(a.textContent=_),p=w(t),u=c(t,"P",{"data-svelte-h":!0}),O(u)!=="svelte-bgfew5"&&(u.textContent=f),this.h()},h(){e(i,"class","back-button svelte-1d0hhg3"),e(a,"class","header svelte-1d0hhg3"),Ct(a,"text-align","left")},m(t,m){E(t,i,m),E(t,l,m),E(t,a,m),E(t,p,m),E(t,u,m),g||(o=j(i,"click",r[8]),g=!0)},p:Ve,d(t){t&&(h(i),h(l),h(a),h(p),h(u)),g=!1,o()}}}function vt(r){let i,n="← Zurück",l,a,_="Datenschutz:",p,u,f=`Die Erhebung aller Daten erfolgt vollständig anonymisiert,
                    d. h. an keiner Stelle wird der Name Ihres Kindes erfragt.
                    Antworten, Tonaufzeichnungen und Ergebnisse werden unter
                    einem persönlichen Codewort gespeichert, das Sie bzw. Ihr
                    Kind selbst anhand einer Regel erstellt haben und das außer
                    Ihnen niemand kennt. Das heißt, es ist niemandem möglich,
                    die Daten Ihres Kindes mit dessen Namen in Verbindung zu
                    bringen. Die Aufzeichnung und Auswertung der Daten erfolgt
                    anonymisiert im Hector-Institut für Empirische
                    Bildungsforschung der Universität Tübingen sowie an der
                    Hochschule für Musik, Theater und Medien Hannover. Die
                    anonymisierten Daten werden mindestens 10 Jahre gespeichert.
                    Sie können allerdings, wenn immer Sie dies möchten, die
                    Löschung der von Ihrem Kind erhobenen Daten verlangen. Dazu
                    müssen Sie uns keinen Namen verraten, sondern nur das
                    persönliche Codewort. Für die Erstellung des Codeworts
                    erhalten Sie die Anleitung „Wie erstelle ich mein
                    persönliches Codewort?“. Dieses Blatt verbleibt bei Ihnen.
                    Bewahren Sie es bitte sorgfältig auf, damit Sie ggf. später
                    die Löschung der von Ihrem Kind erhobenen Daten verlangen
                    können. Die online-Testungen finden über die
                    nicht-kommerzielle digitale open-access-Plattform
                    https://singpause.songbird.training statt und alle Daten
                    werden auf einem Amazon Elastic Compute Cloud (EC2) Server
                    in Frankfurt gespeichert, sodass eine datenschutzgerechte
                    Erhebung und Aufbewahrung der Daten über Amazon Web Services
                    (AWS) gewährleistet ist.`,g,o;return{c(){i=d("button"),i.textContent=n,l=v(),a=d("h2"),a.textContent=_,p=v(),u=d("p"),u.textContent=f,this.h()},l(t){i=c(t,"BUTTON",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-1vdvkns"&&(i.textContent=n),l=w(t),a=c(t,"H2",{class:!0,style:!0,"data-svelte-h":!0}),O(a)!=="svelte-1fzljva"&&(a.textContent=_),p=w(t),u=c(t,"P",{"data-svelte-h":!0}),O(u)!=="svelte-1r8fat0"&&(u.textContent=f),this.h()},h(){e(i,"class","back-button svelte-1d0hhg3"),e(a,"class","header svelte-1d0hhg3"),Ct(a,"text-align","left")},m(t,m){E(t,i,m),E(t,l,m),E(t,a,m),E(t,p,m),E(t,u,m),g||(o=j(i,"click",r[8]),g=!0)},p:Ve,d(t){t&&(h(i),h(l),h(a),h(p),h(u)),g=!1,o()}}}function Qt(r){let i,n=r[0]&&gt(r);return{c(){n&&n.c(),i=Le()},l(l){n&&n.l(l),i=Le()},m(l,a){n&&n.m(l,a),E(l,i,a)},p(l,[a]){l[0]?n?n.p(l,a):(n=gt(l),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},i:Ve,o:Ve,d(l){l&&h(i),n&&n.d(l)}}}function $t(r,i,n){const l=Ft();let{showModal:a=!1}=i,{onConfirm:_}=i,p=!1,u=!1,f="main";function g(){n(0,a=!1);const S=new CustomEvent("closeModal");dispatchEvent(S)}function o(S){S.preventDefault(),p&&u?(l("confirm",{text:"true"}),g()):alert("You must agree to both conditions.")}function t(){n(3,f="freiwilligkeit")}function m(){n(3,f="datenschutz")}function V(){n(3,f="main")}function k(S){Kt.call(this,r,S)}function b(){p=this.checked,n(1,p)}function C(){u=this.checked,n(2,u)}return r.$$set=S=>{"showModal"in S&&n(0,a=S.showModal),"onConfirm"in S&&n(9,_=S.onConfirm)},[a,p,u,f,g,o,t,m,V,_,k,b,C]}class en extends kt{constructor(i){super(),Dt(this,i,$t,Qt,yt,{showModal:0,onConfirm:9})}}function wt(r){let i,n,l,a,_,p=r[3].welcome1+"",u,f,g,o=r[3].welcome2+"",t,m,V,k,b,C=r[3].sign_in+"",S,H,D,P,J,A,B,se,L,x,re,M,le,ae,K,I=r[3].sign_in+"",U,G,R,oe=`<div class="vr-line"></div> <img src="${Jt}"/> <div class="vr-line"></div>`,Be,T,ge,_e=r[3].sign_up+"",ve,Oe,Q,ue,Re,q,we,Fe,$,de,He,W,Se,Ke,ee,ce,je,Z,ye,xe,te,he,Ge,X,Ce,qe,ne,be=r[3].sign_up+"",Ie,We,Xe;return{c(){i=d("div"),n=d("div"),l=d("div"),a=d("p"),_=new at(!1),u=v(),f=d("p"),g=new at(!1),t=v(),m=d("br"),V=v(),k=d("form"),b=d("div"),S=pe(C),H=v(),D=d("div"),P=d("label"),J=v(),A=d("input"),se=v(),L=d("div"),x=d("label"),re=v(),M=d("input"),ae=v(),K=d("button"),U=pe(I),G=v(),R=d("div"),R.innerHTML=oe,Be=v(),T=d("form"),ge=d("div"),ve=pe(_e),Oe=v(),Q=d("div"),ue=d("label"),Re=v(),q=d("input"),Fe=v(),$=d("div"),de=d("label"),He=v(),W=d("input"),Ke=v(),ee=d("div"),ce=d("label"),je=v(),Z=d("input"),xe=v(),te=d("div"),he=d("label"),Ge=v(),X=d("input"),qe=v(),ne=d("button"),Ie=pe(be),this.h()},l(N){i=c(N,"DIV",{class:!0});var z=y(i);n=c(z,"DIV",{id:!0,class:!0,"aria-live":!0});var Y=y(n);l=c(Y,"DIV",{id:!0});var ke=y(l);a=c(ke,"P",{class:!0});var Ye=y(a);_=ot(Ye,!1),Ye.forEach(h),u=w(ke),f=c(ke,"P",{class:!0});var Je=y(f);g=ot(Je,!1),Je.forEach(h),ke.forEach(h),t=w(Y),m=c(Y,"BR",{}),V=w(Y),k=c(Y,"FORM",{id:!0,method:!0});var ie=y(k);b=c(ie,"DIV",{class:!0});var Qe=y(b);S=me(Qe,C),Qe.forEach(h),H=w(ie),D=c(ie,"DIV",{class:!0});var De=y(D);P=c(De,"LABEL",{class:!0,for:!0,id:!0}),y(P).forEach(h),J=w(De),A=c(De,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),De.forEach(h),se=w(ie),L=c(ie,"DIV",{class:!0});var Ee=y(L);x=c(Ee,"LABEL",{class:!0,for:!0,id:!0}),y(x).forEach(h),re=w(Ee),M=c(Ee,"INPUT",{id:!0,name:!0,type:!0,class:!0,placeholder:!0}),Ee.forEach(h),ae=w(ie),K=c(ie,"BUTTON",{class:!0,id:!0,type:!0});var $e=y(K);U=me($e,I),$e.forEach(h),ie.forEach(h),G=w(Y),R=c(Y,"DIV",{class:!0,"data-svelte-h":!0}),O(R)!=="svelte-egoo6f"&&(R.innerHTML=oe),Be=w(Y),T=c(Y,"FORM",{id:!0,method:!0});var F=y(T);ge=c(F,"DIV",{class:!0});var et=y(ge);ve=me(et,_e),et.forEach(h),Oe=w(F),Q=c(F,"DIV",{class:!0});var Ue=y(Q);ue=c(Ue,"LABEL",{class:!0,for:!0,id:!0}),y(ue).forEach(h),Re=w(Ue),q=c(Ue,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0}),Ue.forEach(h),Fe=w(F),$=c(F,"DIV",{class:!0});var Ae=y($);de=c(Ae,"LABEL",{class:!0,for:!0,id:!0}),y(de).forEach(h),He=w(Ae),W=c(Ae,"INPUT",{id:!0,name:!0,type:!0,class:!0,placeholder:!0}),Ae.forEach(h),Ke=w(F),ee=c(F,"DIV",{class:!0});var Me=y(ee);ce=c(Me,"LABEL",{class:!0,for:!0,id:!0}),y(ce).forEach(h),je=w(Me),Z=c(Me,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),Me.forEach(h),xe=w(F),te=c(F,"DIV",{class:!0});var Te=y(te);he=c(Te,"LABEL",{class:!0,for:!0,id:!0}),y(he).forEach(h),Ge=w(Te),X=c(Te,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),Te.forEach(h),qe=w(F),ne=c(F,"BUTTON",{class:!0,id:!0,type:!0});var tt=y(ne);Ie=me(tt,be),tt.forEach(h),F.forEach(h),Y.forEach(h),z.forEach(h),this.h()},h(){_.a=null,e(a,"class","logged_out_message"),g.a=null,e(f,"class","logged_out_message2"),e(l,"id","prelogin"),e(b,"class","content-title"),e(P,"class","control-label shiny-label-null"),e(P,"for","sign-sign_in_user"),e(P,"id","sign-sign_in_user-label"),e(A,"id","sign-sign_in_user"),e(A,"type","text"),e(A,"name","email"),e(A,"class","shiny-input-text form-control shiny-bound-input"),A.value="",e(A,"placeholder",B=r[3].username),e(D,"class","form-group shiny-input-container"),e(x,"class","control-label shiny-label-null"),e(x,"for","sign-sign_in_password"),e(x,"id","sign-sign_in_password-label"),e(M,"id","sign-sign_in_password"),e(M,"name","password"),e(M,"type","password"),e(M,"class","shiny-input-password form-control shiny-bound-input"),M.value="",e(M,"placeholder",le=r[3].password),e(L,"class","form-group shiny-input-container"),e(K,"class","btn btn-default action-button shiny-bound-input"),e(K,"id","sign-sign_in_button"),e(K,"type","button submit"),e(k,"id","sign-sign_in_section"),e(k,"method","POST"),e(R,"class","vr-separator"),e(ge,"class","content-title-alt"),e(ue,"class","control-label shiny-label-null"),e(ue,"for","sign-sign_up_user"),e(ue,"id","sign-sign_up_user-label"),e(q,"id","sign-sign_up_user"),e(q,"type","text"),e(q,"class","shiny-input-text form-control shiny-bound-input"),e(q,"name","username"),q.value="",e(q,"placeholder",we=r[3].username_sign_up),e(Q,"class","form-group shiny-input-container"),e(de,"class","control-label shiny-label-null"),e(de,"for","sign-sign_in_email"),e(de,"id","sign-sign_in_email-label"),e(W,"id","sign-sign_in_email"),e(W,"name","email"),e(W,"type","text"),e(W,"class","shiny-input-email form-control shiny-bound-input"),W.value="",e(W,"placeholder",Se=r[3].email_sign_up),e($,"class","form-group shiny-input-container"),e(ce,"class","control-label shiny-label-null"),e(ce,"for","sign-sign_up_password"),e(ce,"id","sign-sign_up_password-label"),e(Z,"id","sign-sign_up_password"),e(Z,"type","password"),e(Z,"name","password"),e(Z,"class","shiny-input-password form-control shiny-bound-input"),Z.value="",e(Z,"placeholder",ye=r[3].password_sign_up),e(ee,"class","form-group shiny-input-container"),e(he,"class","control-label shiny-label-null"),e(he,"for","sign-sign_up_verify_password"),e(he,"id","sign-sign_up_verify_password-label"),e(X,"id","sign-sign_up_verify_password"),e(X,"type","password"),e(X,"name","confirm_password"),e(X,"class","shiny-input-password form-control shiny-bound-input"),X.value="",e(X,"placeholder",Ce=r[3].verify_password_sign_up),e(te,"class","form-group shiny-input-container"),e(ne,"class","btn btn-default action-button btn_alt shiny-bound-input"),e(ne,"id","sign-sign_up_button"),e(ne,"type","button submit"),e(T,"id","sign_up_section"),e(T,"method","POST"),e(n,"id","dynamic_ui"),e(n,"class","shiny-html-output shiny-bound-output"),e(n,"aria-live","polite"),e(i,"class","wrapper")},m(N,z){E(N,i,z),s(i,n),s(n,l),s(l,a),_.m(p,a),s(l,u),s(l,f),g.m(o,f),s(n,t),s(n,m),s(n,V),s(n,k),s(k,b),s(b,S),s(k,H),s(k,D),s(D,P),s(D,J),s(D,A),s(k,se),s(k,L),s(L,x),s(L,re),s(L,M),s(k,ae),s(k,K),s(K,U),s(n,G),s(n,R),s(n,Be),s(n,T),s(T,ge),s(ge,ve),s(T,Oe),s(T,Q),s(Q,ue),s(Q,Re),s(Q,q),s(T,Fe),s(T,$),s($,de),s($,He),s($,W),s(T,Ke),s(T,ee),s(ee,ce),s(ee,je),s(ee,Z),s(T,xe),s(T,te),s(te,he),s(te,Ge),s(te,X),s(T,qe),s(T,ne),s(ne,Ie),r[9](T),We||(Xe=[j(k,"submit",ut(r[5])),j(T,"submit",ut(r[6]))],We=!0)},p(N,z){z&8&&p!==(p=N[3].welcome1+"")&&_.p(p),z&8&&o!==(o=N[3].welcome2+"")&&g.p(o),z&8&&C!==(C=N[3].sign_in+"")&&Pe(S,C),z&8&&B!==(B=N[3].username)&&e(A,"placeholder",B),z&8&&le!==(le=N[3].password)&&e(M,"placeholder",le),z&8&&I!==(I=N[3].sign_in+"")&&Pe(U,I),z&8&&_e!==(_e=N[3].sign_up+"")&&Pe(ve,_e),z&8&&we!==(we=N[3].username_sign_up)&&e(q,"placeholder",we),z&8&&Se!==(Se=N[3].email_sign_up)&&e(W,"placeholder",Se),z&8&&ye!==(ye=N[3].password_sign_up)&&e(Z,"placeholder",ye),z&8&&Ce!==(Ce=N[3].verify_password_sign_up)&&e(X,"placeholder",Ce),z&8&&be!==(be=N[3].sign_up+"")&&Pe(Ie,be)},d(N){N&&h(i),r[9](null),We=!1,Ze(Xe)}}}function tn(r){let i,n,l,a,_,p,u;i=new Bt({});function f(t){r[8](t)}let g={};r[1]!==void 0&&(g.showModal=r[1]),l=new en({props:g}),It.push(()=>xt(l,"showModal",f)),l.$on("closeModal",r[4]),l.$on("confirm",r[7]);let o=!r[2].data.session&&wt(r);return{c(){dt(i.$$.fragment),n=v(),dt(l.$$.fragment),_=v(),o&&o.c(),p=Le()},l(t){ct(i.$$.fragment,t),n=w(t),ct(l.$$.fragment,t),_=w(t),o&&o.l(t),p=Le()},m(t,m){ht(i,t,m),E(t,n,m),ht(l,t,m),E(t,_,m),o&&o.m(t,m),E(t,p,m),u=!0},p(t,[m]){const V={};!a&&m&2&&(a=!0,V.showModal=t[1],jt(()=>a=!1)),l.$set(V),t[2].data.session?o&&(o.d(1),o=null):o?o.p(t,m):(o=wt(t),o.c(),o.m(p.parentNode,p))},i(t){u||(ft(i.$$.fragment,t),ft(l.$$.fragment,t),u=!0)},o(t){pt(i.$$.fragment,t),pt(l.$$.fragment,t),u=!1},d(t){t&&(h(n),h(_),h(p)),mt(i,t),mt(l,t),o&&o.d(t)}}}const nn="5";function sn(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function rn(r,i,n){let l,a;lt(r,Gt,b=>n(2,l=b)),lt(r,Rt,b=>n(3,a=b));let _,p=!1,u={};function f(){n(1,p=!0)}function g(){n(1,p=!1)}const o=async b=>{const C=new FormData(b.target);let S=C.get("email"),H=C.get("password");try{fe.loading("",{duration:1e3});const{isSignedIn:D,nextStep:P}=await qt({username:S,password:H});localStorage.setItem("isSelectItems",!0),St("/dashboard")}catch(D){if(D instanceof Error){if(D?.message.includes("The quota has been exceeded")){window.localStorage.clear();return}fe.error(D.message)}else console.log("Unknown error during sign in:",D)}},t=b=>{b.preventDefault();const C=new FormData(b.target);u={username:C.get("username"),password:C.get("password"),email:C.get("email"),confirmPassword:C.get("confirm_password")},f()},m=async()=>{let{username:b,password:C,email:S,confirmPassword:H}=u;if(!(C===H)){fe.error("Passwords do not match");return}if(S!==""&&!sn(S)){fe.error("Please enter a valid email address");return}try{const{isSignUpComplete:P,userId:J,nextStep:A}=await Xt({username:b,password:C,options:{userAttributes:{email:S,"custom:groupId":nn}}});_.reset(),fe.success("Registered!"),g()}catch(P){if(P instanceof Error){if(P?.message.includes("The quota has been exceeded")){window.localStorage.clear();return}if(P?.message.includes("already exists")){fe.error("User already exists"),_.reset();return}fe.error(P.message)}else console.log("Unknown error during sign up:",P)}};function V(b){p=b,n(1,p)}function k(b){It[b?"unshift":"push"](()=>{_=b,n(0,_)})}return[_,p,l,a,g,o,t,m,V,k]}class pn extends kt{constructor(i){super(),Dt(this,i,rn,tn,yt,{})}}export{pn as component,fn as universal};
